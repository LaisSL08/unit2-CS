![Animated weather icons](https://github.com/user-attachments/assets/433a574c-948f-4211-8668-9500b47f6389)

# Unit 2: A Distributed Weather Station for ISAK

## Criteria A: Planning

## Problem definition

Cabbages are members of the Brassicaceae (Cruciferae) family which includes crops such as Kale, Cauliflower, Broccoli and Radish. One of the most widely grown, popular and nutritious vegetables in Japan mainly for the domestic market.The length of the total growing period varies between 90 (spring-sown) and 200 (autumn-sown) days, depending on climate, variety and planting date, but for good production the growing period is about 120 to 140 days. Most varieties can withstand a short period of frost of -6°C, some down to -l0°C. Long periods (30 to 60 days) of -5°C are harmful. The plants with leaves smaller than 3 cm will survive long periods of low temperature but when the leaves are 5 to 7 cm, the plant will initiate a seed stalk and this leads to a poor quality yield. Optimum growth occurs at a mean daily temperature of about 17°C with daily mean maximum of 24°C and minimum of 10°C. Mean relative humidity should be in the range of 60 to 90 percent.Our client owns the Cabbage field, which contains multiple greenhouses. Due to fluctuating temperature and humidity levels, the client struggles to maintain marvellous environmental conditions for their plants. These fluctuations, if not monitored, can lead to plant stress, producing smaller harvests and increasing the vulnerability to pests and diseases. Currently, the client lacks an efficient and working system where he can continuously monitor the changes in temperature and humidity. As a result of this issue, the cabbage field has been suffering massive losses on the harvests, causing stress and frustration among the local farmers. This situation has been noticed by the local businesses, who are extremely concerned and are considering changing their food suppliers as the quantity and quality of the products have decreased. The company's reputation in the local community was being ruined, so they approached us to create a solution. The owner, scared by this situation, requested our services to design a server to address the monitoring of environmental factors and ensure accurate data collection and real-time analysis, allowing fast and proactive actions to reduce risks and better manage the plant's development.

![cabbage1](https://github.com/user-attachments/assets/3bfcfbe5-cc7e-425b-b02d-4f99ceccfe10)


## Proposed Solution
Considering the client requirements an adequate solution includes a low cost sensing device for humidity and temperature and a custom data script that process and anaysis the samples acquired. For a low cost sensing device an adequate alternative is the DHT11 sensor[^1] which is offered online for less than 5 USD and provides adequare precision and range for the client requirements (Temperature Range: 0°C to 50°C, Humidity Range: 20% to 90%). Similar devices such as the DHT22, AHT20 or the AM2301B [^2] have higher specifications, however the DHT11 uses a simple serial communication (SPI) rather than more eleborated protocols such as the I2C used by the alternatives. For the range, precision and accuracy required in this applicaiton the DHT11 provides the best compromise. Connecting the DHT11 sensor to a computer requires a device that provides a Serial Port communication. A cheap and often used alternative for prototyping is the Arduino UNO microcontroller [^3]. "Arduino is an open-source electronics platform based on easy-to-use hardware and software"[^4]. In additon to the low cost of the Arduino (< 6USD), this devide is programable and expandable[^1]. I considered alternatives such diffeerent versions of the original Arduino but their size and price make them a less adequate solution.

Considering the budgetary constrains of the client and the hardware requirements, the software tool that I proposed for this solution is Python. Python's open-source nature and platform independence contribute to the long-term viability of the system. The use of Python simplifies potential future enhancements or modifications, allowing for seamless scalability without the need for extensive redevelopment [^5][^6]. In comparison to the alternative C or C++, which share similar features, Python is a High level programming language (HLL) with high abstraction [^7]. For example, memory management is automatic in Python whereas it is responsability of the C/C++ developer to allocate and free up memory [^7], this could result in faster applications but also memory problems. In addition a HLL language will allow me and future developers extend the solution or solve issues proptly.  

## Design Statement

Our team is developing a program using Arduino and DHT_11 sensors to monitor humidity and temperature required for the 
growing cabbage in greenhouses. The data will be uploaded to a real-time server within 48 hours and accessed via a secure login. This reliable, proven system will be ready within three weeks and will meet our client's needs (done using Pycharm)

## Success Criteria

[^1]: Industries, Adafruit. “DHT11 Basic Temperature-Humidity Sensor + Extras.” Adafruit Industries Blog RSS, https://www.adafruit.com/product/386. 
[^2]: Nelson, Carter. “Modern Replacements for DHT11 and dht22 Sensors.” Adafruit Learning System, https://learn.adafruit.com/modern-replacements-for-dht11-dht22-sensors/what-are-better-alternatives.   
[^3]:“How to Connect dht11 Sensor with Arduino Uno.” Arduino Project Hub, https://create.arduino.cc/projecthub/pibots555/how-to-connect-dht11-sensor-with-arduino-uno-f4d239.  
[^4]:Team, The Arduino. “What Is Arduino?: Arduino Documentation.” Arduino Documentation | Arduino Documentation, https://docs.arduino.cc/learn/starting-guide/whats-arduino.  
[^5]:Tino. “Tino/PyFirmata: Python Interface for the Firmata (Http://Firmata.org/) Protocol. It Is Compliant with Firmata 2.1. Any Help with Updating to 2.2 Is Welcome. the Capability Query Is Implemented, but the Pin State Query Feature Not Yet.” GitHub, https://github.com/tino/pyFirmata. 
[^6]:Python Geeks. “Advantages of Python: Disadvantages of Python.” Python Geeks, 26 June 2021, https://pythongeeks.org/advantages-disadvantages-of-python/. 
[^7]: Real Python. “Python vs C++: Selecting the Right Tool for the Job.” Real Python, Real Python, 19 June 2021, https://realpython.com/python-vs-cpp/#memory-management. 

1. The solution provides a visual representation of the Humidity and Temperature values outside the residences for a period of minimum 48 hours. The issue tackled here is the lack of a real-time monitoring system for tracking fluctuations in temperature and humidity in a cabbage field, which contains multiple greenhouses. This lack of monitoring has resulted in reduced harvest quality and quantity, pest and disease vulnerability, and multiple losses for the farm. By creating a system which can create a visual detailed representation of those fluctuations in the area over a 48-hour period, this will immediately allow our client to take action in order to control the temperature and humidity inside the greenhouses, reducing the losses, and protecting their reputation among the local community. This  monitoring and data analysis system is essential to ensuring the farm maintains ideal conditions for cabbage cultivation.
   
2. ```[HL]``` The local variables will be measured using a set of 2 sensors placed outside. One focused on collecting the temperature values and one focused on collecting the humidity data.
   
3. The solution provides a mathematical modelling for the Humidity and Temperature levels for each Local and Remote locations. ```(SL: linear model)```, ```(HL: non-lineal model)```
These models will allow our client to comprehend the fluctuations on the environmental conditions and take action in order to improve the quality and quantity of their products.

4. The solution provides a comparative analysis for the Humidity, Temperature (HL) levels for each Local and Remote locations including mean, standard deviation, minimum, maximum, and median.
   
5. ```(SL)```The Local samples are stored in a csv file and ```(HL)``` posted to the remote server as a backup.
   
6. The solution provides a prediction for the subsequent 12 hours for Humidity, and Temperature (HL). 
   
7. The solution includes a poster summarizing the visual representations, model and analysis created. The poster includes a recommendation about healthy levels for Humidity, and Temperature(HL). 

## TOK Connection
To what extent does ```the use of data science``` in climate research influence our understanding of environmental issues, and what knowledge questions arise regarding the ```reliability, interpretation, and ethical implications``` of data-driven approaches in addressing climate change

1. Impact on understanding of environmental issues

Modern use of data science can turn vast amounts of raw data into meaningful and understandable insights. For example, the temperature and humidity data collected through our project not only allows us to monitor the current state of the microclimate, but also to identify patterns such as seasonal fluctuations or critical periods for plants. This knowledge helps to develop strategies to prevent problems such as reduced yields due to unfavorable conditions. At the global level, analyzing climate data contributes to our understanding of phenomena such as global warming, changing precipitation or melting glaciers.

Knowledge questions arise regarding the: 

- Reliability
   1. Equipment accuracy: How reliable are sensors such as the DHT11 and what errors can occur during measurement?

   2. Human error: How can human errors, such as incorrect sensor settings or mistakes in data processing, impact the reliability and             accuracy of climate data analysis?

- Interpretation
   1. How does context affect interpretation? Different regions and cultures may have different understandings of what is considered              “ideal” growing conditions.

   2. Who interprets the data? Professionals with different experience and knowledge may come to different conclusions from the same data.

- Ethical implications
   1. How to ensure the confidentiality of the data collected?
  
   2. What measures should be taken to prevent misuse of environmental data, such as its use in competitive business practices or other           unethical activities?
   
2. What responsibilities do we have as technologists when it comes to handling personal data related to our living spaces?

   As technologists working with environmental data, we have a number of ethical, technical and social obligations. From an ethical 
   perspective, the understandability of data collection is essential. Customers must clearly understand what data is being collected, for 
   what purpose, and who will have access to it. In addition, we must ensure that this data is protected, using strong measures to guard 
   against leaks, breaches or unauthorized use. From a technical point of view, our obligations include collecting only the data needed for 
   a specific task, ensuring the reliability of the system to guarantee the accuracy and relevance of the data. From a social point of 
   view, it is important that the results of our analyses are not used for manipulative purposes, for example, to put undue pressure on the 
   customer. By respecting these responsibilities, we can create a system that is not only efficient, but also ethically sound and socially 
   responsible.
   
3. What cultural and contextual factors might impact our interpretation of the results, especially when comparing our local readings with those from the campus?

   Cultural and contextual factors play an important role in the interpretation of environmental data. Different regions have different 
   quality standards and traditional approaches to growing plants, which can influence the optimal conditions for crops such as cabbage. 
   For example, the ideal humidity for cabbage growth may differ depending on local traditions or cultural preferences. Conditions on the 
   farm and on campus can vary greatly, including factors such as the type of greenhouse, quality of equipment, and available resources. 
   Local climatic patterns, such as higher humidity in one area, may further affect data interpretation. In addition, the equipment used to 
   collect data on campus may be more advanced or accurate than on the farm, leading to differences in results. The microclimate on the 
   farm, which is influenced by factors such as shade, proximity to water sources, or wind exposure, may also differ significantly from the 
   microclimate on the campus, further complicating the comparison of data at these locations.


# Criteria B: Design

## System Diagram **HL**
![2 min](https://github.com/user-attachments/assets/17e07aee-1474-40d4-bcb2-bc59d136aa8b)

**Fig.1** shows the system diagram for the proposed solution (HL). Outdoor humidity and temperature data will be measured using an Arduino and a DHT11 sensor that is positioned so that it records data from the outside. The variables will be queried on the remote server using a GET request to the server API at 192.168.4.137. The local values are stored in a CSV database locally and a backup copy will be store in the remote server using the Weather API.

![image](https://github.com/user-attachments/assets/01c6219e-5bdd-4bb0-ac22-b202cb1446b4)
**Fig.2** shows the hardware architecture of the Arduino. The Arduino is connected to the computer using a USB cable. The DHT11 sensors are connected to the Arduino pins as shown in the figure. The Arduino is powered from the computer using a USB cable.

![image](https://github.com/user-attachments/assets/f15d3bf7-9944-4364-842d-1b58a42941b9)
**Fig.3** shows the location of the setup in the room. The laptop and Arduino are placed on the windowsill so that the DHT 11 sensor faces the outside and measures the temperature and humidity data from outside. 

## Flow Diagrams

![1flowdiagram drawio (1)](https://github.com/user-attachments/assets/c6796788-5b1b-4519-afcb-40194442d65c)

**Fig.4** this flow diagram represents a program that connects to an Arduino, continuously reads sensor data for 48 hours, extracts humidity and temperature values, and saves them in a timestamped CSV file for later analysis.

![2flowdiagram drawio](https://github.com/user-attachments/assets/5d8ee792-5459-46fd-a87e-f7112ba1107a)

**Fig.5** this flow diagram represents the sequence of operations in an Arduino program that records temperature and humidity data from a DHT11 sensor for 48 hours.

## Record of Tasks
| Task No | Planned Action                                           | Planned outcome                                        | Time estimate | Date of reaching the target | Criterion |
|---------|----------------------------------------------------------|--------------------------------------------------------|---------------|-----------------------------|-----------|
| 1       | Formulate the problem definition and upload it on GitHub | Clear understanding of the problem                     | 20 min        | Nov 26                      | A         |
| 2       | Make a list of required materials                        | The finished list of materials                         | 5 min         | Nov 27                      | B         |
| 3       | Formulate design statement                               | Completed statement which addresses client need        | 15 min        | Nov 27                      | A         |
| 4       | Code and upload program for Arduino on Arduino IDE       | Arduino programmed to collect data                     | 45 min        | Nov 29                      | C         |
| 5       | Construct Arduino Circuit for data collection            | Sensors connected and ready for data collection        | 30 min        | Nov 29                      | C         |
| 6       | Form Test Plan                                           | Test plans outlined for solution development           | 1 hr          | Nov 29                      | B         |
| 7       | Test serial connection between Arduino and computer      | Confirm serial connection is functional                | 30 min        | Nov 29                      | C         |
| 8       | Test DHT11 Sensor and its connection to Arduino          | Verify sensor returns valid readings                   | 15 min        | Nov 29                      | C         |
| 9       | Code data collection method on PyCharm                   | Program retrieves data every 2 seconds                 | 30 min        | Nov 30                      | C         |
| 10      | Test if readings can be saved to a CSV file              | Confirm successful saving of readings                  | 15 min        | Nov 30                      | C         |
| 11      | Test if readings can be sent to a remote server          | Confirm data can be posted to remote server            | 20 min        | Nov 30                      | C         |
| 12      | Code data storage method on PyCharm                      | Store data locally (CSV) and remotely                  | 1 hr          | Dec 2                       | C         |
| 13      | Test and finalize hardware and software                  | Resolve bugs and finalize for final data collection    | 1 hr          | Dec 2                       | C         |
| 14      | Collect temperature and humidity data for 48 hours       | Gather 48 hours of data from sensors                   | 48 hr         | Dec 2 - Dec 4               | C         |
| 15      | Create flow diagrams and reference figures               | Visual diagrams for process and analysis               | 2 hr          | Dec 5                       | B         |
| 16      | Construct graphs using Pyplot                            | Generate raw data and averaged graphs using Matplotlib | 3 hr          | Dec 5                       | C/D       |
| 17      | Conduct usability testing for graphs                     | Finalize graphs for readability and usability          | 30 min        | Dec 6                       | D         |
| 18      | Design a poster                                          | Create poster summarizing findings and investigation   | 3 hr          | Dec 7                       | D         |
| 19      | Film video introducing product                           | Film a presentation showcasing the final solution      | 1 hr          | Dec 8                       | D         |
| 20      | Finish the github repository and the details             | Get a completed and successful repository on Github    | 30 min        | Dec 8                       | C         |
## Test Plan
| Test type                                  | Objective                                                                                                                                                                   | Procedure                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Expected Output                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       Technical:   Arduino Set Up          | Verify if the arduino is properly arranged and connected to the computer.                                                                                                   | 1. Check if all the components are present, you're supposed to have:   -One Arduino UNO R3 Board (**Fig.4**)  -One DHT11 sensor (**Fig.5**)  -One HDMI cable (**Fig.6**)  -Three wires with different colours(**Fig.7**)  2. If you have all the objects, then check if one side of the wires are connected to the three pins of the sensor. The other side of the first wire must be connected to the 3.3V pin, the middle wire must be connected to the pin 2 of the board, the last wire must be connected to the GND pin. Finally, connect the arduino board to the computer using the HDMI cable. If everything is correct, continue to the next step, if not, watch the video on the end of this table teaching how to set up the arduino board.  3.Place the computer in a safe space where it can collect the data non-stop, the computer can be inside a building, however make sure the sensor is outside. In our project we placed the computer on a window, as you can see in **Fig.8**. Just remember your computer must be  connected to the internet and charging as the data collecting will take a long time. | The arduino must be properly arranged and placed in a safe space in order to start the  collection of data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|      Functionality:  Arduino Code          | Verify if the arduino code is working and collecting real-time data.                                                                                                        | 1. Open the Arduino IDE, which is the open-source Arduino Software (IDE), making it easy to write code and upload it to the board. This  software can be used with any Arduino and if your computer doesn't have it, you can download on the following link: https://www.arduino.cc/en/software  2. After opening the Arduino IDE, you must check if the correct board and port are selected as shown in **Fig.9**  3. Check if the code you have is the same as in **Fig.10**  4. Verify and upload the code, the button to verify looks like a V and the button to upload is an arrow. Wait until the messages "verification complete" and "upload complete" show in your screen.                                                                                                                                                                                                                                                                                                                                                                                                                                            | The program should run and starts collecting the data. You must make sure that all sensors are working, and that your screen is the same as in Fig.11                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|      Functionality:  Pycharm Code - CSV    | Verify if the pycharm code is working, and the data collected is being transformed in a csv file and sending this data to the server.                                       | 1. Open the Pycharm Program, and check if the interpreter is the Python 3.13. You're able to download Pycharm here: https://www.jetbrains.com/ja-jp/pycharm/ and Python 3.13 here:  https://www.python.org/downloads/  2. The code you're seeing must be the same as in Fig.12, if it is, then proceed to step 3. If the code is different, then please correct.  3. Click to run the code, wait a couple seconds, and the data being collected should appear on your screen.  4. Now, open the library of the computer, click on Acer C:, then users, then Lais, then Pycharmprojects, and finally Pycharmproject2. You should be able to  see a csv file named Data with the date and time you started recording. Open this file and check if the data collected is there. Check if data is being  collected and uploaded to the server by looking at the adequate sensor id and see if it matches the id of sensors used for the data collecting.                                                                                                                                                                           | The program must run and transform the data  collected in a csv file stored in your computer. Make sure that all sensors are collecting data,  and uploading it onto both a .csv file and the  remote server.The program contains a return that is visible and which is stored in a csv file in  order to prove that the program ran successfully. The program must be able to run if the computer  goes into rest mode. The program should continue  to run without stopping until the final time of  48 hours, and the data should continue to be  collected.                                                                                      |
|      Functionality:  Pycharm Code - Graphs | Verify if the code to formulate the non-lineal model graphs is working, in order to be able to have a full comprehension of the current problem and take action towards it. | 1. Move to the Pycharm tab called "graphsproject2". Please make sure the package matplotlib is installed.  2. Check if the code you're seeing is the same as showed in Fig.13. If it is, then proceed to the next step, if it's not, please correct the code based on the image.  3. Run the code, type which data you want to analyze: Temperature, Humidity, Temperature X Humidity, Average Temperature, Average Humidity. You should see  the plot of the data showed as a non-lineal model with the proper features like labels as Time and Temperature, Grid, and colour.The model you should see  must look something like in Fig.14, however keep in mind that it will not look exactly the same as the data we used and the data you're using right now  are different sets of data.                                                                                                                                                                                                                                                                                                                                  | Each program must run and print the appropriate non lineal model based on the code being ran. The user  should see a model, containig correct features like  x-axis and y-axis labels, colors, grid, and title. Make sure your graph is done according to the data collected. They must be able to answer what kind of  data each graph is expressing (example: when looking at  the average of temperature, they should be able to say  that they see the average of the 2 temperature values being  plotted). If this test fails for any of the graphs, there is  a need to make adjustments, such as adding labels, using  different colors, etc. |
|   Errors Test:  Pycharm Code               | Test if the program has any errors or glitches due to the amount of time the program is ran for (48 hours) and for the amount of data being  collected.                     | 1. Go back to the Pycharm program and run continuously.  2. Check every 3 hours if the program is running non-stop without any problems.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | All the data was collected in real-time and the program ran for the required time without any glitches.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

# Criteria C: Development

## List of techniques used

## Development


# Criteria D: Functionality

A 7 min video demonstrating the proposed solution with narration
